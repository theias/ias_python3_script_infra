This is only how I think things might need to be laid out.
I haven't tested any of this; I've used bits and pieces.
